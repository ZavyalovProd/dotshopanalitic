<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOT SHOP ¬∑ Analytics</title>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading Screen -->
    <div class="loader-screen" id="loader-screen">
        <div class="loader-content">
            <div class="loader-animation">
                <svg class="loader-svg" viewBox="0 0 100 100">
                    <defs>
                        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#ff9d5c"/>
                            <stop offset="100%" style="stop-color:#ff7b3a"/>
                        </linearGradient>
                    </defs>
                    <circle class="ring-bg" cx="50" cy="50" r="45"/>
                    <circle class="ring-progress" cx="50" cy="50" r="45"/>
                </svg>
                <div class="loader-icon">
                    <div class="icon-o"></div>
                    <div class="icon-line"></div>
                </div>
            </div>
            <div class="loader-text">
                <div class="loader-brand">DOT<span>.</span></div>
                <p class="loader-status" id="loader-status">Initializing...</p>
            </div>
        </div>
    </div>

    <!-- Login Screen -->
    <div class="login-screen" id="login-screen">
        <div class="login-card">
            <div class="login-logo">DOT<span>.</span></div>
            <p class="login-subtitle">Analytics Dashboard</p>
            
            <div class="login-form" id="token-login-form">
                <input type="password" id="token-input" class="login-input" placeholder="Enter access token">
                <button id="login-btn" class="btn-primary">Access Dashboard</button>
                <div class="divider"><span>or</span></div>
                <button id="admin-login-btn" class="btn-secondary">Admin Login</button>
            </div>
            
            <div class="login-form hidden" id="admin-form">
                <p class="form-title">üîê Admin Access</p>
                <input type="password" id="admin-password" class="login-input" placeholder="Enter admin password">
                <button id="send-code-btn" class="btn-admin">Send Code to Email</button>
                <button id="back-btn-1" class="btn-back">‚Üê Back</button>
            </div>
            
            <div class="login-form hidden" id="code-form">
                <p class="form-title">üìß Verification Code</p>
                <p class="form-hint">Check your email</p>
                <input type="text" id="code-input" class="login-input code-input" placeholder="‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢" maxlength="12">
                <button id="verify-btn" class="btn-admin">Verify & Login</button>
                <button id="back-btn-2" class="btn-back">‚Üê Back</button>
            </div>
            
            <p class="login-error" id="login-error"></p>
        </div>
    </div>

    <!-- Dashboard -->
    <div class="dashboard" id="dashboard">
        <div class="sidebar" id="sidebar">
            <div class="logo">DOT<span>.</span></div>
            <nav id="nav">
                <a href="#" class="nav-item active" data-section="overview">
                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
                    <span>Overview</span>
                </a>
                <a href="#" class="nav-item" data-section="reviews">
                    <svg viewBox="0 0 24 24"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
                    <span>Reviews</span>
                </a>
                <a href="#" class="nav-item admin-nav hidden" data-section="admin">
                    <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
                    <span>Admin</span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <div class="status" id="status">
                    <span class="status-dot"></span>
                    <span class="status-text">Offline</span>
                </div>
                <button class="logout-btn" id="logout-btn">
                    <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                </button>
            </div>
        </div>

        <div class="overlay" id="overlay"></div>
        <button class="menu-btn" id="menu-btn">‚ò∞</button>

        <main class="main" id="main">
            <!-- Overview -->
            <section class="section active" id="section-overview">
                <header class="header">
                    <div>
                        <h1>Analytics</h1>
                        <p class="update-time" id="update-time">Last update: --:--</p>
                    </div>
                    <div class="periods" id="periods">
                        <button data-period="today">Today</button>
                        <button data-period="week" class="active">Week</button>
                        <button data-period="month">Month</button>
                        <button data-period="year">Year</button>
                        <button data-period="all">All</button>
                    </div>
                </header>

                <div class="stats">
                    <div class="stat"><div class="stat-icon">üì¶</div><div><span class="stat-label">Orders</span><span class="stat-value" id="stat-orders">-</span></div></div>
                    <div class="stat"><div class="stat-icon">‚≠ê</div><div><span class="stat-label">Reviews</span><span class="stat-value" id="stat-reviews">-</span></div></div>
                    <div class="stat"><div class="stat-icon">üë•</div><div><span class="stat-label">Buyers</span><span class="stat-value" id="stat-buyers">-</span></div></div>
                    <div class="stat highlight"><div class="stat-icon">üí∞</div><div><span class="stat-label">Revenue</span><span class="stat-value" id="stat-revenue">-</span></div></div>
                </div>

                <div class="row">
                    <div class="card">
                        <h3>Revenue</h3>
                        <div class="currencies">
                            <div><span>üá™üá∫ EUR</span><span id="cur-eur">‚Ç¨0</span></div>
                            <div><span>üá∫üá∏ USD</span><span id="cur-usd">$0</span></div>
                            <div><span>üá∑üá∫ RUB</span><span id="cur-rub">‚ÇΩ0</span></div>
                        </div>
                    </div>
                    <div class="card tabs-card">
                        <div class="tabs">
                            <button class="active" data-tab="payments">Payments</button>
                            <button data-tab="products">Products</button>
                            <button data-tab="buyers">Buyers</button>
                        </div>
                        <div class="tab-content active" id="tab-payments"></div>
                        <div class="tab-content" id="tab-products"></div>
                        <div class="tab-content" id="tab-buyers"></div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-head"><h3>Orders</h3><span class="badge" id="orders-badge">0</span></div>
                    <div class="table-wrap">
                        <table>
                            <thead><tr><th>#</th><th>Buyer</th><th class="hide-m">Items</th><th>Pay</th><th>Total</th><th class="hide-m">Date</th><th></th></tr></thead>
                            <tbody id="orders-tbody"></tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Reviews -->
            <section class="section" id="section-reviews">
                <header class="header"><h1>Reviews</h1></header>
                
                <div class="reviews-stats">
                    <div class="stat"><div class="stat-icon">‚≠ê</div><div><span class="stat-label">Total</span><span class="stat-value" id="reviews-total">-</span></div></div>
                    <div class="stat"><div class="stat-icon">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div><div><span class="stat-label">Rating</span><span class="stat-value">5.0</span></div></div>
                </div>

                <div class="reviews-list" id="reviews-list">
                    <div class="loading">Loading reviews...</div>
                </div>

                <a href="https://discord.com/channels/1440679410616578152/1440808658903629935" target="_blank" class="discord-link">
                    View all on Discord ‚Üí
                </a>
            </section>

            <!-- Admin -->
            <section class="section" id="section-admin">
                <header class="header"><h1>üî¥ Admin Panel</h1></header>
                
                <div class="admin-grid">
                    <div class="admin-card">
                        <h3>üîë Create Token</h3>
                        <input type="text" id="token-name" placeholder="Token name">
                        <input type="number" id="token-uses" placeholder="Max uses (-1 = ‚àû)" value="-1">
                        <button id="create-token-btn">Create Token</button>
                        <div class="token-created hidden" id="token-created">
                            <p>‚úÖ Token created! Copy now:</p>
                            <code id="new-token"></code>
                            <button id="copy-btn">Copy</button>
                        </div>
                    </div>
                    
                    <div class="admin-card">
                        <h3>üìã Tokens</h3>
                        <div class="admin-list" id="tokens-list"></div>
                    </div>
                    
                    <div class="admin-card wide">
                        <h3>üîê Login Logs</h3>
                        <div class="admin-list" id="login-logs"></div>
                    </div>
                    
                    <div class="admin-card wide">
                        <h3>ü§ñ Bot Logs</h3>
                        <div class="admin-list" id="bot-logs"></div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-box">
            <button class="modal-x" id="modal-x">√ó</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
